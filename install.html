


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Requirements &mdash; FAT Arts Combinatòries 1.0a1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="FAT Arts Combinatòries 1.0a1 documentation" href="index.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
<link type="text/css" href="_static/fatdoc.css" rel="stylesheet">

  </head>
  <body>
<div class="header">
    <a href="#">
        <img alt="Logo" src="_static/logo.jpg" class="logo" />
    </a>
</div>
    

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">FAT Arts Combinatòries 1.0a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Requirements</a><ul>
<li><a class="reference internal" href="#operating-system">Operating System</a></li>
<li><a class="reference internal" href="#basic-software">Basic Software</a></li>
</ul>
</li>
<li><a class="reference internal" href="#install-basic-software">Install basic software</a></li>
<li><a class="reference internal" href="#arts-combinatories-install">Arts Combinatòries install</a><ul>
<li><a class="reference internal" href="#run-the-processes-of-the-project-software-stack">Run the processes of the project software stack</a></li>
<li><a class="reference internal" href="#video-services">Video services</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="next chapter">Configuration</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/install.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>This section describes the steps required to build and run an instance of the software and services stack of Arts Combinatòries.</p>
<div class="section" id="requirements">
<h1>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h1>
<p>You should meet all the requirements described below.</p>
<div class="section" id="operating-system">
<h2>Operating System<a class="headerlink" href="#operating-system" title="Permalink to this headline">¶</a></h2>
<p>Due to technological limitations, the project is able to run on *nix based machines. From now on all the examples shown will be based under a assumption of having a Ubuntu Linux 11.04 (Natty) distribution.</p>
</div>
<div class="section" id="basic-software">
<h2>Basic Software<a class="headerlink" href="#basic-software" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>GCC compiler suite to build native Python extensions (Zope contains C code for optimized parts)</li>
<li>Python 2.6 (other versions are <em>not</em> ok for Plone 4)</li>
<li>Python Imaging Library installed for your Python interpreter (more below)</li>
<li>Python <a class="reference external" href="http://pypi.python.org/pypi/distribute">Distribute</a> installation tool, provided by your operating system</li>
</ul>
<blockquote>
<div>or installed by hand</div></blockquote>
<ul class="simple">
<li>Gawk</li>
<li>Git</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="install-basic-software">
<h1>Install basic software<a class="headerlink" href="#install-basic-software" title="Permalink to this headline">¶</a></h1>
<p>GCC, Python 2.6 and additional software and libraries:</p>
<div class="highlight-python"><pre>sudo apt-get install python2.6 python-imaging wget build-essential python2.6-dev python-setuptools git-core</pre>
</div>
<p>Python Distribute:</p>
<div class="highlight-python"><pre>wget http://python-distribute.org/distribute_setup.py
sudo python2.6 distribute_setup.py</pre>
</div>
<p>Gawk:</p>
<div class="highlight-python"><pre>sudo apt-get install gawk</pre>
</div>
</div>
<div class="section" id="arts-combinatories-install">
<h1>Arts Combinatòries install<a class="headerlink" href="#arts-combinatories-install" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.buildout.org">Buildout</a> is a tool which automatically downloads, installs and configures Python and other software. Arts Combinatòries uses buildout.</p>
<p>This build system uses a file (<cite>buildout.cfg</cite>) which provides all the configuration information to build the complete stack of required software.</p>
<p>We should download the buildout code from Github:</p>
<div class="highlight-python"><pre>git clone git://github.com/FATac/fatac.buildout.git</pre>
</div>
<p>Access to the recently created folder <cite>fatac.buildout</cite>:</p>
<div class="highlight-python"><pre>cd fatac.buildout</pre>
</div>
<p>Execute the buildout process:</p>
<div class="highlight-python"><pre>python2.6 bootstrap.py
./bin/buildout</pre>
</div>
<p>This will process take some time.</p>
<p>Automatic installation of lighttpd:</p>
<div class="highlight-python"><pre>apt-get install lighttpd</pre>
</div>
<p>Following Tomcat web applications (.war files) must be added in &#8220;webapps&#8221; directory:</p>
<blockquote>
<div><ul class="simple">
<li>Arts Combinatòries REST services: <a class="reference external" href="https://github.com/FATac/ArtsCombinatoriesRest/blob/develop/WebContent/WEB-INF/ArtsCombinatoriesRest.war">https://github.com/FATac/ArtsCombinatoriesRest/blob/develop/WebContent/WEB-INF/ArtsCombinatoriesRest.war</a></li>
<li>Solr search engine: <a class="reference external" href="http://lucene.apache.org/solr/">http://lucene.apache.org/solr/</a> (in &#8220;Download&#8221;)</li>
<li>OAI-PMH Server: <a class="reference external" href="http://code.google.com/p/oaicat/downloads/detail?name=oaicat.war">http://code.google.com/p/oaicat/downloads/detail?name=oaicat.war</a></li>
</ul>
</div></blockquote>
<p>..note:</p>
<div class="highlight-python"><pre>Some services such as Virtuoso and Tomcat need additional configuration which depends on your needs and environment, this is explained further in 'Configuration' section.</pre>
</div>
<div class="section" id="run-the-processes-of-the-project-software-stack">
<h2>Run the processes of the project software stack<a class="headerlink" href="#run-the-processes-of-the-project-software-stack" title="Permalink to this headline">¶</a></h2>
<p>These are the processes needed by Arts Combinatòries:</p>
<blockquote>
<div><ul class="simple">
<li>Plone (frontend)</li>
<li>Tomcat (API REST)</li>
<li>Virtuoso (BBDD)</li>
<li>Lighttpd (HTTP server - optional)</li>
</ul>
</div></blockquote>
<p>Plone:</p>
<div class="highlight-python"><pre>(plone path)/bin/instance start</pre>
</div>
<p>Tomcat:</p>
<div class="highlight-python"><pre>(tomcat path)/bin/startup.sh</pre>
</div>
<p>Virtuoso:</p>
<div class="highlight-python"><pre>cd (virtuoso path)/var/lib/virtuoso/db/
../../../../bin/virtuoso-t -f &amp;</pre>
</div>
<p>Lighttpd:</p>
<div class="highlight-python"><pre>cd /etc/lighttpd/
lighttpd -f lighttpd.conf</pre>
</div>
</div>
<div class="section" id="video-services">
<h2>Video services<a class="headerlink" href="#video-services" title="Permalink to this headline">¶</a></h2>
<p>Video services install is made of two parts: first, a java web application and second, a native library that helps on video coding.</p>
<ol class="arabic simple">
<li>Web service installation</li>
</ol>
<p>Basically, you have to deploy file TapiesWebServices.war on Tomcat application server. This war already have an initial profile configuration (profile.xml file), so no additioanl configuration has to be done. In any case, if new profiles have to be added for supporting other video formats, this information is provided in configuration guide.</p>
<ol class="arabic simple" start="2">
<li>Xuggler native library installation</li>
</ol>
<p>All necessary software is ready in an auto-install program. You only have to execute it (usually with administrator rights to be able to access to the required directories).</p>
<div class="highlight-python"><pre>sudo sh ./xuggle-xuggler.4.0.1084-i686-pc-linux-gnu.sh</pre>
</div>
<p>You have to confirm installation by writing &#8216;yes&#8217; and you can leave installation directory as default.</p>
<p>2.1 Native libraries checking</p>
<p>In directory /usr/local/xuggler/bin you can find Xuggler binaries. When executing the ffmpeg binary you will get its version information:</p>
<div class="highlight-python"><pre>ffmpeg version 0.8.git-xuggle-4.0.revision.sh, Copyright (c) 2000-2011 the FFmpeg developers
  built on Nov 21 2011 09:31:08 with gcc 4.6.1
  configuration: --prefix=/usr/local/xuggler --extra-version=xuggle-4.0.revision.sh --extra-cflags=-I/home/javi/Desktop/xuggle-xuggler-modified/build/native/i686-pc-linux-gnu/captive/usr/local/xuggler/include --extra-ldflags=-L/home/javi/Desktop/xuggle-xuggler-modified/build/native/i686-pc-linux-gnu/captive/usr/local/xuggler/lib --enable-shared --enable-gpl --enable-nonfree --enable-version3 --enable-libx264 --enable-libmp3lame --enable-libvorbis --enable-libtheora --enable-libspeex --enable-libvpx --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-pthreads
  libavutil    51. 11. 0 / 51. 11. 0
  libavcodec   53.  8. 0 / 53.  8. 0
  libavformat  53.  6. 0 / 53.  6. 0
  libavdevice  53.  2. 0 / 53.  2. 0
  libavfilter   2. 27. 0 /  2. 27. 0
  libswscale    2.  0. 0 /  2.  0. 0
  libpostproc  51.  2. 0 / 51.  2. 0
Use -h to get full help or, even better, run 'man ffmpeg'</pre>
</div>
<p>In case a native library is missing, you should install it. This will depend on the linux distribution being used.</p>
<p>For Ubuntu 11.10 32 bits, no additional libraries has to be installed.</p>
<p>For Ubuntu 11.10 64 bits, compatibility libraries package has to be installed.</p>
<div class="highlight-python"><pre>sudo apt-get install ia32-libs</pre>
</div>
<p>2.2  Install Xuggler support to Tomcat</p>
<p>Copy all dependences from directory /usr/local/xuggler/share/java/jars to directory %TOMCAT_HOME%/lib . More specifically the files:</p>
<ul class="simple">
<li>logback-classic.jar</li>
<li>logback-core.jar</li>
<li>commons-cli.jar</li>
<li>slf4j-api.jar</li>
<li>xuggle-xuggler.jar</li>
</ul>
<p>Finally, you have to configure environment variables to allow Tomcat to find Xuggler libraries. Add the following lines to Tomcat startup file (%TOMCAT_HOME%/bin/startup.sh):</p>
<div class="highlight-python"><pre>export XUGGLE_HOME=/usr/local/xuggler
export LD_LIBRARY_PATH=$XUGGLE_HOME/lib:$LD_LIBRARY_PATH
export PATH=$XUGGLE_HOME/bin:$PATH</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="index.html">FAT Arts Combinatòries 1.0a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, FAT - UPCnet.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>